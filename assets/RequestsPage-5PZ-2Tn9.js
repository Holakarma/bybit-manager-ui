import{g as Y,G as T,j as e,aK as ke,aL as $,r as y,aM as U,am as H,S as v,T as g,Y as K,B as Q,ac as ge,ad as S,aN as I,e as O,u as ue,aJ as he,aj as Se,an as Te,L as qe,al as V,P as re}from"./index-U9dTbjOH.js";import{l as Z,m as R,n as k,j as Re,b as B,h as Pe,i as Ee,k as Ie,I as Oe,R as He,d as ie,e as ce,u as pe,o as le,f as Me,g as L}from"./selectedRequest-Cg-GVrJQ.js";import{a as ee,C as De,c as F,d as J,L as me,b as xe,u as Ae,A as ze,e as Be}from"./index.esm-C-3A4oM3.js";import{i as Le}from"./isEmptyValues-BYo5e0_1.js";const Fe=()=>{const s=Y();return ee({mutationFn:async t=>await Z.addCustomRequest(t),mutationKey:["add-custom-request"],onSuccess:()=>{s.invalidateQueries({queryKey:["custom-requests"]})}})},Je=()=>{const s=Y();return ee({mutationFn:async t=>await Z.deleteCustomRequest(t),mutationKey:["delete-custom-request"],onSuccess:()=>{s.invalidateQueries({queryKey:["custom-requests"]})}})},Ge=()=>{const s=Y();return ee({mutationFn:async({id:t,newCustomRequestData:n})=>await Z.updateCustomRequest(t,n),mutationKey:["update-custom-request"],onSuccess:()=>{s.invalidateQueries({queryKey:["custom-requests"]})}})},_=s=>s.reduce((t,{key:n,value:a="",active:o,id:r})=>(n.trim()&&(t[n]={value:a,active:o,id:r}),t),{}),W=s=>Object.entries(s).map(([t,n])=>({key:t,...n}));class Ne{constructor(t){this.method=t.method,this.title=t.title,this.path=t.path,this.params=_(t.params),this.headers=_(t.headers),this.cookies=_(t.cookies),this.json=t.json?JSON.parse(t.json):{},this.data=t.data,this.bodyType=t.bodyType,this.id=t.id}}const $e=T(e.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Ue=(s,t,n)=>{let a="";for(;s.length>0;){const o=s.match(t);o?(a+=s.slice(0,o.index),a+=n(o),s=s.slice(o.index+o[0].length)):(a+=s,s="")}return a},Ve=(s="")=>{const t=[];let n="";return Ue(s,/\s*(?:([^\s\\\'\"]+)|'((?:[^\'\\]|\\.)*)'|"((?:[^\"\\]|\\.)*)"|(\\.?)|(\S))(\s|$)?/,a=>{const[o,r,i,c,h,d,p]=a;if(d!=null)throw new Error("Unmatched quote");n+=r||(i||c||h).replace(/\\(?=.)/,""),p!=null&&(t.push(n),n="")}),n&&t.push(n),t},_e=s=>{if(s.indexOf("curl ")==0){var t=We(Ve(s)),n={method:"GET",header:{}},a="";return t.forEach(function(o){switch(!0){case Xe(o):n.url=o;break;case(o=="-A"||o=="--user-agent"):a="user-agent";break;case(o=="-H"||o=="--header"):a="header";break;case(o=="-d"||o=="--data"||o=="--data-ascii"||o=="--data-raw"):a="data";break;case(o=="-u"||o=="--user"):a="user";break;case(o=="-I"||o=="--head"):n.method="HEAD";break;case(o=="-X"||o=="--request"):a="method";break;case(o=="-b"||o=="--cookie"):a="cookie";break;case o=="--compressed":n.header["Accept-Encoding"]=n.header["Accept-Encoding"]||"deflate, gzip";break;case(o=="-F"||o=="--form"):a="form-data";break;case!!o:switch(a){case"form-data":n.data=n.data||[],n.data.push(o),a="";break;case"header":var r=Ke(o);n.header[r[0]]=r[1],a="";break;case"user-agent":n.header["User-Agent"]=o,a="";break;case"data":(n.method=="GET"||n.method=="HEAD")&&(n.method="POST"),n.header["Content-Type"]=n.header["Content-Type"]||"application/x-www-form-urlencoded",n.body=n.body?n.body+"&"+o:o,a="";break;case"user":n.header.Authorization="Basic "+btoa(o),a="";break;case"method":n.method=o,a="";break;case"cookie":n.header["Set-Cookie"]=o,a="";break}break}}),n}};function We(s){return s.reduce(function(t,n){return n.indexOf("-X")==0?(t.push("-X"),t.push(n.slice(2))):t.push(n),t},[])}function Ke(s){return s.split(/: (.+)/)}function Xe(s){return/^https?:\/\//.test(s)}const Ye="https://api2.bybit.com",je=s=>{const{method:t="GET",path:n="",params:a={},headers:o={},cookies:r={},json:i={},data:c="",bodyType:h="JSON"}=s,d=`${Ye}/${n}`,p=new URL(d);Object.entries(a).filter(([u,l])=>l.active).forEach(([u,l])=>{p.searchParams.append(u,l.value)});let x=["curl"];x.push(`-X ${t}`),Object.entries(o).filter(([u,l])=>l.active).forEach(([u,l])=>{x.push(`-H "${u}: ${l.value}"`)});const j=Object.entries(r).filter(([u,l])=>l.active).map(([u,l])=>`${u}=${l.value}`).join("; ");if(j&&x.push(`-b "${j}"`),t!=="GET"&&t!=="HEAD")if(h==="JSON"&&Object.keys(i).length>0){const u=JSON.stringify(i);x.push(`-d '${u}'`),x.push('-H "Content-Type: application/json"')}else h==="x-www-form-urlencoded"&&c&&(x.push(`-d '${c}'`),x.push('-H "Content-Type: application/x-www-form-urlencoded"'));return x.push(`"${p.toString()}"`),x.join(" ")},X=s=>{try{const t=typeof s=="string"?JSON.parse(s):s;return JSON.stringify(t,null,2)}catch(t){return console.error("Invalid JSON:",t),""}},Qe=()=>{const s=Fe(),t=Ge(),n=R.use.request(),a=R.use.setRequest();return{onSubmit:r=>{const i=new Ne({...r,params:r.params.filter(c=>c.key),headers:r.headers.filter(c=>c.key),cookies:r.cookies.filter(c=>c.key)});n?t.mutate({id:i.id,newCustomRequestData:i}):s.mutate(i),a(i)},isLoading:s.isPending||t.isPending}},Ze=s=>{const t={};if(!s)return t;const n=s.split(";");for(const a of n){const[o,r]=a.trim().split("=");o&&(t[o]=r||"")}return t};function et({e:s,setValue:t,trigger:n,fieldsController:a,resetField:o}){s.preventDefault();const r=s.clipboardData.getData("text").trim();try{const i=new URL(r);t("path",i.pathname.substring(1)),n("path");const c={};for(const[d,p]of i.searchParams.entries())c[d]=p;const h=Object.entries(c).map(([d,p])=>({key:d,value:p}));a.remove.params(),h.length>0&&a.append.params([...h]),a.append.params([k()])}catch{try{const c=_e(r);t("method",c.method||"GET"),n("method");const h=new URL(c.url);t("path",h.pathname.substring(1)),n("path");const d={};for(const[b,f]of h.searchParams.entries())d[b]=f;const p=Object.entries(d).map(([b,f])=>({...k(),key:b,value:f}));a.remove.params(),a.append.params([...p,k()]);const{"Set-Cookie":x,...j}=c.header;let u=[];if(x){const b=Ze(x);u=Object.entries(b).map(([f,q])=>({...k(),active:!1,key:f,value:q}))}a.remove.cookies(),a.append.cookies([...u,k()]);const l=Object.entries(j).map(([b,f])=>({...k(),active:!1,key:b,value:f}));a.remove.headers(),a.append.headers([...l,k()]),o("body"),o("data"),o("bodyType"),c.body&&(t("bodyType","JSON"),t("json",X(c.body))),c.data&&(t("bodyType","x-www-form-urlencoded"),t("data",c.data.join("&")),n("bodyType"))}catch(c){console.error(c.message),t("path",r)}}}const tt=s=>{const t=ke({defaultValues:s,mode:"onChange"}),{fields:n,append:a,remove:o,replace:r}=$({control:t.control,name:"params"}),{fields:i,append:c,remove:h,replace:d}=$({control:t.control,name:"headers"}),{fields:p,append:x,remove:j,replace:u}=$({control:t.control,name:"cookies"}),l=y.useMemo(()=>({append:{params:a,headers:c,cookies:x},remove:{params:o,headers:h,cookies:j},replace:{params:r,headers:d,cookies:u}}),[a,c,o,h,r,d,x,j,u]),b=U({control:t.control,name:"params"}),f=U({control:t.control,name:"headers"}),q=U({control:t.control,name:"cookies"}),M=y.useMemo(()=>({params:b||n,headers:f||i,cookies:q||p}),[b,f,q,n,i,p]),G=y.useCallback((w,A,P)=>{const E=w===M[P].length-1,{active:se,...N}=A,z=Le(N);if(E&&!z&&l.append[P](k()),!E&&z){l.remove[P](w);return}t.setValue(`${P}.${w}`,A,{shouldDirty:!0}),t.trigger(`${P}.${w}`)},[M,l,t]);return{...t,fieldArrays:M,fieldsController:l,handleArrayFieldsChange:G}},fe=T(e.jsx("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24M2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0M12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5m2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64z"}),"VisibilityOffRounded"),ye=T(e.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilityRounded"),be=T(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded"),st=T(e.jsx("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded"),nt=({param:s,onChange:t,error:n,hiddenValueLabel:a,...o})=>{const[r,i]=y.useState(s),c=u=>{const{name:l,value:b}=u.target;i(f=>({...f,[l]:b}))},h=()=>{t(r),j(!1)},d=()=>{t({})},p=u=>{const l={...r,active:u.target.checked};i(l),t(l)},[x,j]=y.useState(!1);return e.jsxs(Re,{...o,children:[e.jsx(B,{children:e.jsx(H,{defaultValue:s.key,name:"key",onChange:c,onBlur:h,size:"small",placeholder:"key",fullWidth:!0,variant:"standard",slotProps:{input:{disableUnderline:!0}},error:n})}),e.jsx(B,{children:a&&a(s)&&!x?e.jsxs(v,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(g,{children:a(s)}),e.jsx(K,{onClick:()=>j(!0),children:e.jsx(st,{})})]}):e.jsx(H,{defaultValue:s.value,name:"value",onChange:c,onBlur:h,size:"small",placeholder:s.key?"empty value":"value",fullWidth:!0,variant:"standard",slotProps:{input:{disableUnderline:!0}},error:n})}),e.jsx(B,{align:"center",children:e.jsx(De,{disabled:!r.key,checked:r.active,onChange:p})}),e.jsx(B,{align:"center",children:e.jsx(K,{onClick:d,disabled:!r.key&&!r.value,children:e.jsx(be,{})})})]})},te=({paramsFields:s,onChange:t,errors:n,filter:a,enableFilter:o,hiddenValueLabel:r})=>e.jsx(Pe,{sx:{flexGrow:1,scrollbarWidth:"thin"},children:e.jsx(Ee,{children:e.jsx(Ie,{children:s.map((i,c)=>{var h;return o&&!a(i)?null:e.jsx(nt,{sx:a&&{opacity:a(i)?"":"0.6"},param:i,onChange:d=>t(d,c),error:!!((h=n.params)!=null&&h[c]),hiddenValueLabel:r},i.id)})})})}),de={_by_l_g_d:"generates automatically","secure-token":"auth token","self-unbind-token":"requests automatically",BYBIT_REG_REF_prod:"generates automatically"},at=({array:s,errors:t,onChange:n})=>{const[a,o]=y.useState(!1),r=i=>!de[i.key];return e.jsxs(v,{alignItems:"end",gap:1,children:[e.jsxs(v,{direction:"row",alignItems:"center",gap:2,children:[e.jsxs(g,{variant:"Caption",children:[s.length-s.filter(r).length," hidden"]}),e.jsx(Q,{size:"small",variant:"contained",color:"secondary",startIcon:a?e.jsx(fe,{}):e.jsx(ye,{}),onClick:()=>o(i=>!i),children:a?"Hide hidden cookies":"Show hidden cookies"})]}),e.jsx(te,{onChange:n,filter:r,enableFilter:!a,paramsFields:s,errors:t,hiddenValueLabel:i=>de[i.key]})]})},ot=["accept","accept-language","content-type","lang","origin","platform","priority","referer","sec-ch-ua","sec-ch-ua-mobile","sec-ch-ua-platform","sec-fetch-dest","sec-fetch-mode","sec-fetch-site","traceparent","user-agent"],rt=({array:s,errors:t,onChange:n})=>{const[a,o]=y.useState(!1),r=i=>!ot.includes(i.key.toLowerCase());return e.jsxs(v,{alignItems:"end",gap:1,children:[e.jsxs(v,{direction:"row",alignItems:"center",gap:2,children:[e.jsxs(g,{variant:"Caption",children:[s.length-s.filter(r).length," hidden"]}),e.jsx(Q,{size:"small",variant:"contained",color:"secondary",startIcon:a?e.jsx(fe,{}):e.jsx(ye,{}),onClick:()=>o(i=>!i),children:a?"Hide auto-generated headers":"Show auto-generated headers"})]}),e.jsx(te,{onChange:n,filter:r,enableFilter:!a,paramsFields:s,errors:t})]})},it=y.forwardRef(({value:s,onChange:t,...n},a)=>e.jsxs(ge,{ref:a,value:s,onChange:t,sx:{minWidth:100},variant:"standard",disableUnderline:!0,...n,children:[e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PATCH",children:"PATCH"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"OPTIONS",children:"OPTIONS"})]})),ct=({control:s,errors:t,onPaste:n})=>e.jsx(I,{name:"path",control:s,rules:{required:"Path is required"},render:({field:a})=>{var o;return e.jsx(H,{...a,label:"Request",fullWidth:!0,onPaste:n,sx:{height:"100%"},slotProps:{input:{startAdornment:e.jsx(Oe,{position:"start",children:e.jsx(I,{name:"method",control:s,rules:{required:"Method is required"},render:({field:r})=>e.jsx(it,{...r})})}),placeholder:"your/request/path"}},error:!!t.path,helperText:(o=t.path)==null?void 0:o.message})}}),lt=({control:s,bodyTypeWatch:t,validateBody:n,errors:a,onJsonBlur:o})=>e.jsxs(e.Fragment,{children:[e.jsx(I,{name:"bodyType",control:s,rules:{required:"Body type is required"},render:({field:r})=>e.jsxs(He,{row:!0,...r,children:[e.jsx(ie,{value:"JSON",control:e.jsx(ce,{}),label:"JSON"}),e.jsx(ie,{value:"x-www-form-urlencoded",control:e.jsx(ce,{}),label:"x-www-form-urlencoded"})]})}),e.jsxs(O,{paddingBlock:2,children:[t==="JSON"&&e.jsx(I,{name:"json",control:s,rules:{validate:n},render:({field:r})=>{var i;return e.jsx(H,{...r,fullWidth:!0,label:"Valid json",multiline:!0,rows:8,error:!!a.json,helperText:(i=a.json)==null?void 0:i.message,onBlur:o})}}),t==="x-www-form-urlencoded"&&e.jsx(I,{name:"data",control:s,render:({field:r})=>{var i;return e.jsx(H,{...r,fullWidth:!0,label:"Data",multiline:!0,rows:8,error:!!a.data,helperText:(i=a.data)==null?void 0:i.message})}})]})]}),dt=({title:s,onChange:t})=>{const[n,a]=y.useState(!1),[o,r]=y.useState(s),i=()=>{a(!1);const d=o.trim();if(!d){c();return}r(d),t(d)},c=()=>{a(!1),r(s),t(s)},h=d=>{d.key==="Enter"&&i(),d.key==="Escape"&&c()};return y.useEffect(()=>{r(s)},[s]),n?e.jsx(H,{value:o,onChange:d=>r(d.target.value),onBlur:i,onKeyDown:h,autoFocus:!0,fullWidth:!0,size:"small",variant:"standard",slotProps:{input:{disableUnderline:!0}},sx:{"& .MuiInputBase-input":{fontSize:"1.44rem",fontWeight:400,padding:0}}}):e.jsx(O,{sx:{width:"100%",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden"},children:e.jsx(g,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1},variant:"H5",onClick:()=>a(!0),children:s})})},ut=({...s})=>{const t=R.use.request(),{data:n}=pe(),a=y.useMemo(()=>n&&t?n.includes(t):null,[n,t]),{enqueueSnackbar:o}=ue(),{handleSubmit:r,control:i,formState:{errors:c,isValid:h,isDirty:d},setValue:p,trigger:x,reset:j,resetField:u,watch:l,fieldArrays:b,fieldsController:f,handleArrayFieldsChange:q}=tt(le());y.useEffect(()=>{const m=["params","headers","cookies"];return t?(a||p("title",t.title+" (copy)",{shouldDirty:!0}),j({...t,json:X(t.json),params:[...W(t.params)],headers:[...W(t.headers||[])],cookies:[...W(t.cookies||[])]},{keepDirty:!0}),m.forEach(C=>{f.append[C](k())}),a||p("title",t.title+" (copy)")):(j(le()),m.forEach(C=>{f.replace[C]([k()])})),()=>j()},[t,j,f,a,p,x]);const{onSubmit:M,isLoading:G}=Qe(),[w,A]=y.useState(0),P=(m,C)=>{A(C)},E=l("bodyType"),se=y.useCallback(m=>{if(E==="JSON"&&m.trim())try{return JSON.parse(m),!0}catch{return"Invalid JSON format"}return!0},[E]),N=async m=>{const C=m.target.value;try{const oe=JSON.parse(C.trim()),we=X(oe);p("json",we),await x("json")}catch{p("json",C.trim()),await x("json")}},z=m=>{et({e:m,setValue:p,trigger:x,fieldsController:f,resetField:u})},Ce=()=>{try{navigator.clipboard.writeText(je(t)),o("Copied to clipboard",{variant:"info"})}catch(m){t?o(`Did not copied to clipboard: ${m.message}`,{variant:"error"}):o("There is nothing to copy. Try to save or update the request.",{variant:"warning"})}ae()},[D,ne]=y.useState(null),ve=m=>{m.preventDefault(),ne(D===null?{mouseX:m.clientX+2,mouseY:m.clientY-6}:null)},ae=()=>{ne(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{...s,gap:2,component:"form",onSubmit:r(M),justifyContent:"space-between",children:[e.jsxs(v,{gap:2,flexGrow:1,children:[e.jsx(I,{name:"title",control:i,render:({field:m})=>e.jsx(dt,{title:m.value,onChange:m.onChange})}),e.jsx(v,{direction:"row",gap:2,paddingTop:2,onContextMenu:ve,children:e.jsx(ct,{control:i,errors:c,onPaste:z})}),e.jsxs(Me,{value:w,onChange:P,children:[e.jsx(L,{label:"Query"}),e.jsx(L,{label:"Body"}),e.jsx(L,{label:"Headers"}),e.jsx(L,{label:"Cookies"})]}),e.jsx(O,{flexGrow:1,position:"relative",children:e.jsxs(O,{position:"absolute",height:"100%",width:"100%",overflow:"auto",children:[w===0&&e.jsx(te,{onChange:(m,C)=>q(C,m,"params"),paramsFields:b.params,errors:c}),w===1&&e.jsx(lt,{onJsonBlur:N,control:i,bodyTypeWatch:E,validateBody:se,errors:c}),w===2&&e.jsx(rt,{array:b.headers,errors:c,onChange:(m,C)=>q(C,m,"headers")}),w===3&&e.jsx(at,{array:b.cookies,errors:c,onChange:(m,C)=>q(C,m,"cookies")})]})})]}),e.jsx(O,{textAlign:"end",children:e.jsx(Q,{type:"submit",variant:"contained",sx:{minWidth:"100px"},disabled:!h||!d,loading:G,children:a?"Update":"Save"})})]}),e.jsx(he,{open:D!==null,onClose:ae,anchorReference:"anchorPosition",anchorPosition:D!==null?{top:D.mouseY,left:D.mouseX}:void 0,children:e.jsxs(S,{onClick:Ce,children:[e.jsx(F,{children:e.jsx($e,{fontSize:"small"})}),e.jsx(J,{children:"copy as curl(Bash)"})]})})]})},ht=T(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddCircleRounded"),pt=()=>{const s=R.use.unsetRequest(),t=R.use.request();return e.jsx(me,{disablePadding:!0,children:e.jsx(xe,{disabled:!t,onClick:()=>{s()},children:e.jsx(v,{width:"100%",gap:1,direction:"row",alignItems:"center",justifyContent:"center",children:e.jsx(ht,{})})})})},mt=T(e.jsx("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1m5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2m-2 0H9V4h9z"}),"ContentCopyRounded"),xt=T(e.jsx("path",{d:"M15 8c-.55 0-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-2V9c0-.55-.45-1-1-1M2 12c0-2.58 1.4-4.83 3.48-6.04.32-.19.53-.51.53-.88 0-.77-.84-1.25-1.51-.86C1.82 5.78 0 8.68 0 12s1.82 6.22 4.5 7.78c.67.39 1.51-.09 1.51-.86 0-.37-.21-.69-.53-.88C3.4 16.83 2 14.58 2 12m13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9m0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7"}),"ControlPointDuplicateRounded"),jt=T(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertOutlined"),ft=({request:s})=>{const t=R.use.setRequest(),n=R.use.request(),a=R.use.unsetRequest(),o=Je(),r=()=>{o.mutate(s.id),(n==null?void 0:n.id)===s.id&&a(),u()},{enqueueSnackbar:i}=ue(),c=()=>{try{navigator.clipboard.writeText(je(s)),i("Copied to clipboard",{variant:"info"})}catch(l){i(`Did not copied to clipboard: ${l.message}`,{variant:"error"})}u()},h=()=>{t({...s,id:Ae()}),u()},[d,p]=y.useState(null),x=!!d,j=l=>{p(l.currentTarget)},u=()=>{p(null)};return e.jsxs(e.Fragment,{children:[e.jsx(me,{disablePadding:!0,children:e.jsx(Se,{title:s.path,disableInteractive:!0,children:e.jsx(xe,{selected:s.id===(n==null?void 0:n.id),onClick:()=>{t(s)},disableRipple:!0,children:e.jsxs(v,{gap:1,direction:"row",alignItems:"center",sx:{width:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:[e.jsx(g,{variant:"caption",color:"textSecondary",minWidth:"50px",children:s.method}),e.jsx(g,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1},children:s.title}),e.jsx(K,{size:"small",onClick:l=>{l.stopPropagation(),j(l)},children:e.jsx(jt,{})})]})})})}),e.jsxs(he,{anchorEl:d,open:x,onClose:u,children:[e.jsxs(S,{onClick:c,children:[e.jsx(F,{size:"small",children:e.jsx(mt,{fontSize:"small"})}),e.jsx(J,{children:"Copy as curl(bash)"})]}),e.jsxs(S,{onClick:h,children:[e.jsx(F,{size:"small",children:e.jsx(xt,{fontSize:"small"})}),e.jsx(J,{children:"Duplicate"})]}),e.jsxs(S,{onClick:r,children:[e.jsx(F,{size:"small",children:e.jsx(be,{fontSize:"small"})}),e.jsx(J,{children:"Delete"})]})]})]})},yt=({...s})=>{const{data:t,isError:n,isLoading:a}=pe();if(a)return e.jsx(v,{gap:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},...s,children:e.jsx(Te,{})});if(n)return e.jsx(v,{gap:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},...s,children:e.jsx(g,{variant:"H5",color:"error",children:"Error"})});const o=({index:r,style:i})=>{const c=t[r];return e.jsx("div",{style:i,children:e.jsx(ft,{request:c})})};return e.jsxs(v,{gap:2,...s,height:"100%",children:[e.jsx(g,{variant:"H5",children:"Your requests"}),!t.length&&e.jsx(g,{variant:"Body",color:"textSecondary",children:"Empty for now"}),t.length?e.jsx(pt,{}):null,e.jsx(O,{flexGrow:1,position:"relative",children:e.jsx(qe,{sx:{position:"absolute",width:"100%",height:"100%",overflow:"auto"},children:e.jsx(ze,{children:({height:r,width:i})=>e.jsx(Be,{height:r,width:i,itemCount:t.length,itemSize:50,overscanCount:1,children:o})})})})]})},kt=()=>e.jsxs(v,{gap:4,flexGrow:1,maxWidth:"100%",children:[e.jsx(g,{variant:"H3",children:"Requests"}),e.jsxs(V,{container:!0,spacing:2,sx:{flexGrow:1},children:[e.jsx(V,{size:4,children:e.jsx(re,{sx:{height:"100%",padding:2},children:e.jsx(yt,{})})}),e.jsx(V,{size:"grow",children:e.jsx(re,{sx:{height:"100%"},children:e.jsx(v,{sx:{height:"100%"},gap:2,padding:2,children:e.jsx(ut,{flexGrow:1})})})})]})]});export{kt as default};
