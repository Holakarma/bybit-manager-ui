import{g as Y,G as T,j as e,aZ as ke,a_ as N,r as y,a$ as _,aB as H,S as w,T as g,Y as K,B as Q,ad as ge,ae as S,b0 as I,e as O,u as he,aY as pe,ay as Se,aC as Te,L as Re,aA as U,P as ie}from"./index-CKz8_s0t.js";import{l as Z,m as q,u as ee,n as k,j as qe,b as B,h as Pe,i as Ee,k as Ie,I as Oe,R as He,d as ce,e as de,o as le,f as Ae,g as F}from"./selectedRequest-CJZPWq9E.js";import{a as se,C as Me,c as L,d as J,L as me,b as xe,u as De,A as ze,e as Be}from"./index.esm-Bso_JEd8.js";import{i as Fe}from"./isEmptyValues-BYo5e0_1.js";const Le=()=>{const t=Y();return se({mutationFn:async s=>await Z.addCustomRequest(s),mutationKey:["add-custom-request"],onSuccess:()=>{t.invalidateQueries({queryKey:["custom-requests"]})}})},Je=()=>{const t=Y();return se({mutationFn:async s=>await Z.deleteCustomRequest(s),mutationKey:["delete-custom-request"],onSuccess:()=>{t.invalidateQueries({queryKey:["custom-requests"]})}})},Ge=()=>{const t=Y();return se({mutationFn:async({id:s,newCustomRequestData:n})=>await Z.updateCustomRequest(s,n),mutationKey:["update-custom-request"],onSuccess:()=>{t.invalidateQueries({queryKey:["custom-requests"]})}})},V=t=>t.reduce((s,{key:n,value:a="",active:o,id:r})=>(n.trim()&&(s[n]={value:a,active:o,id:r}),s),{}),W=t=>Object.entries(t).map(([s,n])=>({key:s,...n}));class $e{constructor(s){this.method=s.method,this.title=s.title,this.path=s.path,this.params=V(s.params),this.headers=V(s.headers),this.cookies=V(s.cookies),this.json=s.json?JSON.parse(s.json):{},this.data=s.data,this.bodyType=s.bodyType,this.id=s.id}}const Ne=T(e.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),_e=(t,s,n)=>{let a="";for(;t.length>0;){const o=t.match(s);o?(a+=t.slice(0,o.index),a+=n(o),t=t.slice(o.index+o[0].length)):(a+=t,t="")}return a},Ue=(t="")=>{const s=[];let n="";return _e(t,/\s*(?:([^\s\\\'\"]+)|'((?:[^\'\\]|\\.)*)'|"((?:[^\"\\]|\\.)*)"|(\\.?)|(\S))(\s|$)?/,a=>{const[o,r,i,c,u,d,x]=a;if(d!=null)throw new Error("Unmatched quote");n+=r||(i||c||u).replace(/\\(?=.)/,""),x!=null&&(s.push(n),n="")}),n&&s.push(n),s},Ve=t=>{if(t.indexOf("curl ")==0){var s=We(Ue(t)),n={method:"GET",header:{}},a="";return s.forEach(function(o){switch(!0){case Xe(o):n.url=o;break;case(o=="-A"||o=="--user-agent"):a="user-agent";break;case(o=="-H"||o=="--header"):a="header";break;case(o=="-d"||o=="--data"||o=="--data-ascii"||o=="--data-raw"):a="data";break;case(o=="-u"||o=="--user"):a="user";break;case(o=="-I"||o=="--head"):n.method="HEAD";break;case(o=="-X"||o=="--request"):a="method";break;case(o=="-b"||o=="--cookie"):a="cookie";break;case o=="--compressed":n.header["Accept-Encoding"]=n.header["Accept-Encoding"]||"deflate, gzip";break;case(o=="-F"||o=="--form"):a="form-data";break;case!!o:switch(a){case"form-data":n.data=n.data||[],n.data.push(o),a="";break;case"header":var r=Ke(o);n.header[r[0]]=r[1],a="";break;case"user-agent":n.header["User-Agent"]=o,a="";break;case"data":(n.method=="GET"||n.method=="HEAD")&&(n.method="POST"),n.header["Content-Type"]=n.header["Content-Type"]||"application/x-www-form-urlencoded",n.body=n.body?n.body+"&"+o:o,a="";break;case"user":n.header.Authorization="Basic "+btoa(o),a="";break;case"method":n.method=o,a="";break;case"cookie":n.header["Set-Cookie"]=o,a="";break}break}}),n}};function We(t){return t.reduce(function(s,n){return n.indexOf("-X")==0?(s.push("-X"),s.push(n.slice(2))):s.push(n),s},[])}function Ke(t){return t.split(/: (.+)/)}function Xe(t){return/^https?:\/\//.test(t)}const Ye="https://api2.bybit.com",je=t=>{const{method:s="GET",path:n="",params:a={},headers:o={},cookies:r={},json:i={},data:c="",bodyType:u="JSON"}=t,d=`${Ye}/${n}`,x=new URL(d);Object.entries(a).filter(([h,l])=>l.active).forEach(([h,l])=>{x.searchParams.append(h,l.value)});let m=["curl"];m.push(`-X ${s}`),Object.entries(o).filter(([h,l])=>l.active).forEach(([h,l])=>{m.push(`-H "${h}: ${l.value}"`)});const j=Object.entries(r).filter(([h,l])=>l.active).map(([h,l])=>`${h}=${l.value}`).join("; ");if(j&&m.push(`-b "${j}"`),s!=="GET"&&s!=="HEAD")if(u==="JSON"&&Object.keys(i).length>0){const h=JSON.stringify(i);m.push(`-d '${h}'`),m.push('-H "Content-Type: application/json"')}else u==="x-www-form-urlencoded"&&c&&(m.push(`-d '${c}'`),m.push('-H "Content-Type: application/x-www-form-urlencoded"'));return m.push(`"${x.toString()}"`),m.join(" ")},X=t=>{try{const s=typeof t=="string"?JSON.parse(t):t;return JSON.stringify(s,null,2)}catch(s){return console.error("Invalid JSON:",s),""}},Qe=()=>{const t=Le(),s=Ge(),n=q.use.request(),a=q.use.setRequest(),{data:o}=ee();return{onSubmit:async i=>{const c=new $e({...i,params:i.params.filter(d=>d.key),headers:i.headers.filter(d=>d.key),cookies:i.cookies.filter(d=>d.key)}),u=o.includes(n);n&&u?await s.mutateAsync({id:c.id,newCustomRequestData:c}):await t.mutateAsync(c),a(c)},isLoading:t.isPending||s.isPending}},Ze=t=>{const s={};if(!t)return s;const n=t.split(";");for(const a of n){const[o,r]=a.trim().split("=");o&&(s[o]=r||"")}return s};function es({e:t,setValue:s,trigger:n,fieldsController:a,resetField:o}){t.preventDefault();const r=t.clipboardData.getData("text").trim();try{const i=new URL(r);s("path",i.pathname.substring(1)),n("path");const c={};for(const[d,x]of i.searchParams.entries())c[d]=x;const u=Object.entries(c).map(([d,x])=>({key:d,value:x}));a.remove.params(),u.length>0&&a.append.params([...u]),a.append.params([k()])}catch{try{const c=Ve(r);s("method",c.method||"GET"),n("method");const u=new URL(c.url);s("path",u.pathname.substring(1)),n("path");const d={};for(const[b,f]of u.searchParams.entries())d[b]=f;const x=Object.entries(d).map(([b,f])=>({...k(),key:b,value:f}));a.remove.params(),a.append.params([...x,k()]);const{"Set-Cookie":m,...j}=c.header;let h=[];if(m){const b=Ze(m);h=Object.entries(b).map(([f,R])=>({...k(),active:!1,key:f,value:R}))}a.remove.cookies(),a.append.cookies([...h,k()]);const l=Object.entries(j).map(([b,f])=>({...k(),active:!1,key:b,value:f}));a.remove.headers(),a.append.headers([...l,k()]),o("body"),o("data"),o("bodyType"),c.body&&(s("bodyType","JSON"),s("json",X(c.body))),c.data&&(s("bodyType","x-www-form-urlencoded"),s("data",c.data.join("&")),n("bodyType"))}catch(c){console.error(c.message),s("path",r)}}}const ss=t=>{const s=ke({defaultValues:t,mode:"onChange"}),{fields:n,append:a,remove:o,replace:r}=N({control:s.control,name:"params"}),{fields:i,append:c,remove:u,replace:d}=N({control:s.control,name:"headers"}),{fields:x,append:m,remove:j,replace:h}=N({control:s.control,name:"cookies"}),l=y.useMemo(()=>({append:{params:a,headers:c,cookies:m},remove:{params:o,headers:u,cookies:j},replace:{params:r,headers:d,cookies:h}}),[a,c,o,u,r,d,m,j,h]),b=_({control:s.control,name:"params"}),f=_({control:s.control,name:"headers"}),R=_({control:s.control,name:"cookies"}),A=y.useMemo(()=>({params:b||n,headers:f||i,cookies:R||x}),[b,f,R,n,i,x]),G=y.useCallback((v,D,P)=>{const E=v===A[P].length-1,{active:ne,...$}=D,z=Fe($);if(E&&!z&&l.append[P](k()),!E&&z){l.remove[P](v);return}s.setValue(`${P}.${v}`,D,{shouldDirty:!0}),s.trigger(`${P}.${v}`)},[A,l,s]);return{...s,fieldArrays:A,fieldsController:l,handleArrayFieldsChange:G}},fe=T(e.jsx("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24M2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0M12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5m2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64z"}),"VisibilityOffRounded"),ye=T(e.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilityRounded"),be=T(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded"),ts=T(e.jsx("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded"),ns=({param:t,onChange:s,error:n,hiddenValueLabel:a,...o})=>{const[r,i]=y.useState(t),c=h=>{const{name:l,value:b}=h.target;i(f=>({...f,[l]:b}))},u=()=>{s(r),j(!1)},d=()=>{s({})},x=h=>{const l={...r,active:h.target.checked};i(l),s(l)},[m,j]=y.useState(!1);return e.jsxs(qe,{...o,children:[e.jsx(B,{children:e.jsx(H,{defaultValue:t.key,name:"key",onChange:c,onBlur:u,size:"small",placeholder:"key",fullWidth:!0,variant:"standard",slotProps:{input:{disableUnderline:!0}},error:n})}),e.jsx(B,{children:a&&a(t)&&!m?e.jsxs(w,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(g,{children:a(t)}),e.jsx(K,{onClick:()=>j(!0),children:e.jsx(ts,{})})]}):e.jsx(H,{defaultValue:t.value,name:"value",onChange:c,onBlur:u,size:"small",placeholder:t.key?"empty value":"value",fullWidth:!0,variant:"standard",slotProps:{input:{disableUnderline:!0}},error:n})}),e.jsx(B,{align:"center",children:e.jsx(Me,{disabled:!r.key,checked:r.active,onChange:x})}),e.jsx(B,{align:"center",children:e.jsx(K,{onClick:d,disabled:!r.key&&!r.value,children:e.jsx(be,{})})})]})},te=({paramsFields:t,onChange:s,errors:n,filter:a,enableFilter:o,hiddenValueLabel:r})=>e.jsx(Pe,{sx:{flexGrow:1,scrollbarWidth:"thin"},children:e.jsx(Ee,{children:e.jsx(Ie,{children:t.map((i,c)=>{var u;return o&&!a(i)?null:e.jsx(ns,{sx:a&&{opacity:a(i)?"":"0.6"},param:i,onChange:d=>s(d,c),error:!!((u=n.params)!=null&&u[c]),hiddenValueLabel:r},i.id)})})})}),ue={_by_l_g_d:"generates automatically","secure-token":"auth token","self-unbind-token":"requests automatically",BYBIT_REG_REF_prod:"generates automatically"},as=({array:t,errors:s,onChange:n})=>{const[a,o]=y.useState(!1),r=i=>!ue[i.key];return e.jsxs(w,{alignItems:"end",gap:1,children:[e.jsxs(w,{direction:"row",alignItems:"center",gap:2,children:[e.jsxs(g,{variant:"Caption",children:[t.length-t.filter(r).length," hidden"]}),e.jsx(Q,{size:"small",variant:"contained",color:"secondary",startIcon:a?e.jsx(fe,{}):e.jsx(ye,{}),onClick:()=>o(i=>!i),children:a?"Hide hidden cookies":"Show hidden cookies"})]}),e.jsx(te,{onChange:n,filter:r,enableFilter:!a,paramsFields:t,errors:s,hiddenValueLabel:i=>ue[i.key]})]})},os=["accept","accept-language","content-type","lang","origin","platform","priority","referer","sec-ch-ua","sec-ch-ua-mobile","sec-ch-ua-platform","sec-fetch-dest","sec-fetch-mode","sec-fetch-site","traceparent","user-agent"],rs=({array:t,errors:s,onChange:n})=>{const[a,o]=y.useState(!1),r=i=>!os.includes(i.key.toLowerCase());return e.jsxs(w,{alignItems:"end",gap:1,children:[e.jsxs(w,{direction:"row",alignItems:"center",gap:2,children:[e.jsxs(g,{variant:"Caption",children:[t.length-t.filter(r).length," hidden"]}),e.jsx(Q,{size:"small",variant:"contained",color:"secondary",startIcon:a?e.jsx(fe,{}):e.jsx(ye,{}),onClick:()=>o(i=>!i),children:a?"Hide auto-generated headers":"Show auto-generated headers"})]}),e.jsx(te,{onChange:n,filter:r,enableFilter:!a,paramsFields:t,errors:s})]})},is=y.forwardRef(({value:t,onChange:s,...n},a)=>e.jsxs(ge,{ref:a,value:t,onChange:s,sx:{minWidth:100},variant:"standard",disableUnderline:!0,...n,children:[e.jsx(S,{value:"GET",children:"GET"}),e.jsx(S,{value:"POST",children:"POST"}),e.jsx(S,{value:"PATCH",children:"PATCH"}),e.jsx(S,{value:"DELETE",children:"DELETE"}),e.jsx(S,{value:"OPTIONS",children:"OPTIONS"})]})),cs=({control:t,errors:s,onPaste:n})=>e.jsx(I,{name:"path",control:t,rules:{required:"Path is required"},render:({field:a})=>{var o;return e.jsx(H,{...a,label:"Request",fullWidth:!0,onPaste:n,sx:{height:"100%"},slotProps:{input:{startAdornment:e.jsx(Oe,{position:"start",children:e.jsx(I,{name:"method",control:t,rules:{required:"Method is required"},render:({field:r})=>e.jsx(is,{...r})})}),placeholder:"your/request/path"}},error:!!s.path,helperText:(o=s.path)==null?void 0:o.message})}}),ds=({control:t,bodyTypeWatch:s,validateBody:n,errors:a,onJsonBlur:o})=>e.jsxs(e.Fragment,{children:[e.jsx(I,{name:"bodyType",control:t,rules:{required:"Body type is required"},render:({field:r})=>e.jsxs(He,{row:!0,...r,children:[e.jsx(ce,{value:"JSON",control:e.jsx(de,{}),label:"JSON"}),e.jsx(ce,{value:"x-www-form-urlencoded",control:e.jsx(de,{}),label:"x-www-form-urlencoded"})]})}),e.jsxs(O,{paddingBlock:2,children:[s==="JSON"&&e.jsx(I,{name:"json",control:t,rules:{validate:n},render:({field:r})=>{var i;return e.jsx(H,{...r,fullWidth:!0,label:"Valid json",multiline:!0,rows:8,error:!!a.json,helperText:(i=a.json)==null?void 0:i.message,onBlur:o})}}),s==="x-www-form-urlencoded"&&e.jsx(I,{name:"data",control:t,render:({field:r})=>{var i;return e.jsx(H,{...r,fullWidth:!0,label:"Data",multiline:!0,rows:8,error:!!a.data,helperText:(i=a.data)==null?void 0:i.message})}})]})]}),ls=({title:t,onChange:s})=>{const[n,a]=y.useState(!1),[o,r]=y.useState(t),i=()=>{a(!1);const d=o.trim();if(!d){c();return}r(d),s(d)},c=()=>{a(!1),r(t),s(t)},u=d=>{d.key==="Enter"&&i(),d.key==="Escape"&&c()};return y.useEffect(()=>{r(t)},[t]),n?e.jsx(H,{value:o,onChange:d=>r(d.target.value),onBlur:i,onKeyDown:u,autoFocus:!0,fullWidth:!0,size:"small",variant:"standard",slotProps:{input:{disableUnderline:!0}},sx:{"& .MuiInputBase-input":{fontSize:"1.44rem",fontWeight:400,padding:0}}}):e.jsx(O,{sx:{width:"100%",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden"},children:e.jsx(g,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1},variant:"H5",onClick:()=>a(!0),children:t})})},us=({...t})=>{const s=q.use.request(),{data:n}=ee(),a=y.useMemo(()=>n&&s?n.includes(s):null,[n,s]),{enqueueSnackbar:o}=he(),{handleSubmit:r,control:i,formState:{errors:c,isValid:u,isDirty:d},setValue:x,trigger:m,reset:j,resetField:h,watch:l,fieldArrays:b,fieldsController:f,handleArrayFieldsChange:R}=ss(le()),{onSubmit:A,isLoading:G}=Qe();y.useEffect(()=>{const p=["params","headers","cookies"];return s?(j({...s,json:X(s.json),params:[...W(s.params)],headers:[...W(s.headers||[])],cookies:[...W(s.cookies||[])]}),p.forEach(C=>{f.append[C](k())})):(j(le()),p.forEach(C=>{f.replace[C]([k()])})),()=>j()},[s,j,f,x,m]);const[v,D]=y.useState(0),P=(p,C)=>{D(C)},E=l("bodyType"),ne=y.useCallback(p=>{if(E==="JSON"&&p.trim())try{return JSON.parse(p),!0}catch{return"Invalid JSON format"}return!0},[E]),$=async p=>{const C=p.target.value;try{const re=JSON.parse(C.trim()),ve=X(re);x("json",ve),await m("json")}catch{x("json",C.trim()),await m("json")}},z=p=>{es({e:p,setValue:x,trigger:m,fieldsController:f,resetField:h})},Ce=()=>{try{navigator.clipboard.writeText(je(s)),o("Copied to clipboard",{variant:"info"})}catch(p){s?o(`Did not copied to clipboard: ${p.message}`,{variant:"error"}):o("There is nothing to copy. Try to save or update the request.",{variant:"warning"})}oe()},[M,ae]=y.useState(null),we=p=>{p.preventDefault(),ae(M===null?{mouseX:p.clientX+2,mouseY:p.clientY-6}:null)},oe=()=>{ae(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(w,{...t,gap:2,component:"form",onSubmit:r(A),justifyContent:"space-between",children:[e.jsxs(w,{gap:2,flexGrow:1,children:[e.jsx(I,{name:"title",control:i,render:({field:p})=>e.jsx(ls,{title:p.value,onChange:p.onChange})}),e.jsx(w,{direction:"row",gap:2,paddingTop:2,onContextMenu:we,children:e.jsx(cs,{control:i,errors:c,onPaste:z})}),e.jsxs(Ae,{value:v,onChange:P,children:[e.jsx(F,{label:"Query"}),e.jsx(F,{label:"Body"}),e.jsx(F,{label:"Headers"}),e.jsx(F,{label:"Cookies"})]}),e.jsx(O,{flexGrow:1,position:"relative",children:e.jsxs(O,{position:"absolute",height:"100%",width:"100%",overflow:"auto",children:[v===0&&e.jsx(te,{onChange:(p,C)=>R(C,p,"params"),paramsFields:b.params,errors:c}),v===1&&e.jsx(ds,{onJsonBlur:$,control:i,bodyTypeWatch:E,validateBody:ne,errors:c}),v===2&&e.jsx(rs,{array:b.headers,errors:c,onChange:(p,C)=>R(C,p,"headers")}),v===3&&e.jsx(as,{array:b.cookies,errors:c,onChange:(p,C)=>R(C,p,"cookies")})]})})]}),e.jsx(O,{textAlign:"end",children:e.jsx(Q,{type:"submit",variant:"contained",sx:{minWidth:"100px"},disabled:!u||!d,loading:G,children:a?"Update":"Save"})})]}),e.jsx(pe,{open:M!==null,onClose:oe,anchorReference:"anchorPosition",anchorPosition:M!==null?{top:M.mouseY,left:M.mouseX}:void 0,children:e.jsxs(S,{onClick:Ce,children:[e.jsx(L,{children:e.jsx(Ne,{fontSize:"small"})}),e.jsx(J,{children:"copy as curl(Bash)"})]})})]})},hs=T(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddCircleRounded"),ps=()=>{const t=q.use.unsetRequest(),s=q.use.request();return e.jsx(me,{disablePadding:!0,children:e.jsx(xe,{disabled:!s,onClick:()=>{t()},children:e.jsx(w,{width:"100%",gap:1,direction:"row",alignItems:"center",justifyContent:"center",children:e.jsx(hs,{})})})})},ms=T(e.jsx("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1m5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2m-2 0H9V4h9z"}),"ContentCopyRounded"),xs=T(e.jsx("path",{d:"M15 8c-.55 0-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-2V9c0-.55-.45-1-1-1M2 12c0-2.58 1.4-4.83 3.48-6.04.32-.19.53-.51.53-.88 0-.77-.84-1.25-1.51-.86C1.82 5.78 0 8.68 0 12s1.82 6.22 4.5 7.78c.67.39 1.51-.09 1.51-.86 0-.37-.21-.69-.53-.88C3.4 16.83 2 14.58 2 12m13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9m0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7"}),"ControlPointDuplicateRounded"),js=T(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertOutlined"),fs=({request:t})=>{const s=q.use.setRequest(),n=q.use.request(),a=q.use.unsetRequest(),o=Je(),r=()=>{o.mutate(t.id),(n==null?void 0:n.id)===t.id&&a(),h()},{enqueueSnackbar:i}=he(),c=()=>{try{navigator.clipboard.writeText(je(t)),i("Copied to clipboard",{variant:"info"})}catch(l){i(`Did not copied to clipboard: ${l.message}`,{variant:"error"})}h()},u=()=>{s({...t,id:De(),title:t.title+" (copy)"}),h()},[d,x]=y.useState(null),m=!!d,j=l=>{x(l.currentTarget)},h=()=>{x(null)};return e.jsxs(e.Fragment,{children:[e.jsx(me,{disablePadding:!0,children:e.jsx(Se,{title:t.path,disableInteractive:!0,children:e.jsx(xe,{selected:t.id===(n==null?void 0:n.id),onClick:()=>{s(t)},disableRipple:!0,children:e.jsxs(w,{gap:1,direction:"row",alignItems:"center",sx:{width:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:[e.jsx(g,{variant:"caption",color:"textSecondary",minWidth:"50px",children:t.method}),e.jsx(g,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1},children:t.title}),e.jsx(K,{size:"small",onClick:l=>{l.stopPropagation(),j(l)},children:e.jsx(js,{})})]})})})}),e.jsxs(pe,{anchorEl:d,open:m,onClose:h,children:[e.jsxs(S,{onClick:c,children:[e.jsx(L,{size:"small",children:e.jsx(ms,{fontSize:"small"})}),e.jsx(J,{children:"Copy as curl(bash)"})]}),e.jsxs(S,{onClick:u,children:[e.jsx(L,{size:"small",children:e.jsx(xs,{fontSize:"small"})}),e.jsx(J,{children:"Duplicate"})]}),e.jsxs(S,{onClick:r,children:[e.jsx(L,{size:"small",children:e.jsx(be,{fontSize:"small"})}),e.jsx(J,{children:"Delete"})]})]})]})},ys=({...t})=>{const{data:s,isError:n,isLoading:a}=ee();if(a)return e.jsx(w,{gap:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},...t,children:e.jsx(Te,{})});if(n)return e.jsx(w,{gap:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},...t,children:e.jsx(g,{variant:"H5",color:"error",children:"Error"})});const o=({index:r,style:i})=>{const c=s[r];return e.jsx("div",{style:i,children:e.jsx(fs,{request:c})})};return e.jsxs(w,{gap:2,...t,height:"100%",children:[e.jsx(g,{variant:"H5",children:"Your requests"}),!s.length&&e.jsx(g,{variant:"Body",color:"textSecondary",children:"Empty for now"}),s.length?e.jsx(ps,{}):null,e.jsx(O,{flexGrow:1,position:"relative",children:e.jsx(Re,{sx:{position:"absolute",width:"100%",height:"100%",overflow:"auto"},children:e.jsx(ze,{children:({height:r,width:i})=>e.jsx(Be,{height:r,width:i,itemCount:s.length,itemSize:50,overscanCount:1,children:o})})})})]})},ks=()=>e.jsxs(w,{gap:4,flexGrow:1,maxWidth:"100%",children:[e.jsx(g,{variant:"H3",children:"Requests"}),e.jsxs(U,{container:!0,spacing:2,sx:{flexGrow:1},children:[e.jsx(U,{size:4,children:e.jsx(ie,{sx:{height:"100%",padding:2},children:e.jsx(ys,{})})}),e.jsx(U,{size:"grow",children:e.jsx(ie,{sx:{height:"100%"},children:e.jsx(w,{sx:{height:"100%"},gap:2,padding:2,children:e.jsx(us,{flexGrow:1})})})})]})]});export{ks as default};
